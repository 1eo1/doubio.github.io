<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<!link href='http://api.youziku.com/webfont/CSS/567f672ef629d8039c4bf336' rel='stylesheet' type='text/css' />
<!link href='http://api.youziku.com/webfont/CSS/56e3a918f629da0ad88fbde8' rel='stylesheet' type='text/css' />

<style type="text/css">@font-face {font-family: 'jin_mei_mxplzx86d456993036';src: url('../wp-content/themes/yusi1.0/img/567f672ef629d8039c4bf336.gif');src: url('../wp-content/themes/yusi1.0/img/567f672ef629d8039c4bf336-.gif#iefix') format('embedded-opentype'),     url('../wp-content/themes/yusi1.0/img/567f672ef629d8039c4bf336.bmp') format('woff'),     url('../wp-content/themes/yusi1.0/img/567f672ef629d8039c4bf336.jpg') format('truetype'),     url('../wp-content/themes/yusi1.0/img/567f672ef629d8039c4bf336.png#jin_mei_mxplzx') format('svg');   }.css86d456993036{font-family: 'jin_mei_mxplzx86d456993036';}
</style>
<style type="text/css">@font-face {font-family: 'LiDeBiao-Xing320e75d0253036';src: url('../wp-content/themes/yusi1.0/img/56e3a918f629da0ad88fbde8.gif');src: url('../wp-content/themes/yusi1.0/img/56e3a918f629da0ad88fbde8-.gif#iefix') format('embedded-opentype'),     url('../wp-content/themes/yusi1.0/img/56e3a918f629da0ad88fbde8.bmp') format('woff'),     url('../wp-content/themes/yusi1.0/img/56e3a918f629da0ad88fbde8.jpg') format('truetype'),     url('../wp-content/themes/yusi1.0/img/56e3a918f629da0ad88fbde8.png#LiDeBiao-Xing3') format('svg');   }.css20e75d0253036{font-family: 'LiDeBiao-Xing320e75d0253036';}
tbody tr:nth-child(odd) { background-color:#f9f9f9; }
</style>
<link rel="stylesheet" type="text/css" href="../wp-content/themes/yusi1.0/csshake.css">
<link id="favicon" href="../wp-content/themes/yusi1.0/img/logo.ico" rel="icon" type="img/x-icon" />
<title>Linux 自建DNS 并使用SNI Proxy实现科学上网 —— DNSmasq配置教程 | 逗比根据地</title>
<script>
window._deel = {name: '逗比根据地',url: 'https://doub.io/wp-content/themes/yusi1.0', ajaxpager: 'on', commenton: 1, roll: [3,4]}
</script>

<!-- All in One SEO Pack 2.3.13.2 by Michael Torbert of Semper Fi Web Design[2121,2187] -->
<meta name="description"  content="本文章由 @南琴浪 投稿，由 @Toyo 排版并完善，原文地址： DNSmasq是一款小巧且方便地用于配置DNS服务和DHCP服务器的工具，适用于小型网络，它提供了DNS解析功能和可选择的DHCP功能，并且提供本地缓存查询请求的功能。同时搭" />

<meta name="keywords"  content="dns,dnsmasq" />

<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<link rel='stylesheet' id='toggle-box-css'  href='../wp-content/plugins/toggle-box/toggle-box-ver=4.2.13.css' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='../wp-content/themes/yusi1.0/style-ver=1.0.css' type='text/css' media='all' />
<script type='text/javascript' src='../wp-content/themes/yusi1.0/js/jquery.min-ver=1.0.js'></script>
<script type='text/javascript' src='../wp-content/plugins/toggle-box/js/toggle-box-ver=4.2.13.js'></script>
<script type='text/javascript' src='../wp-content/plugins/wp-images-lazy-loading/js/jquery.lazyload.min-ver=1.9.3.js'></script>
<link rel='prev' title='Linux 搭建 Resilio Sync Web UI 同步客户端教程' href='../sync-jc1/index.html' />
<link rel='next' title='『持续更新』Linux 常用命令简单介绍 —— 基础篇' href='../linux-jc8/index.html' />
<link rel='shortlink' href='index.html' />
<meta name='robots' content='noindex,follow' />
<link rel="stylesheet" href="../wp-content/plugins/wp-content-index/style.css" type="text/css" media="all" />
<style type='text/css'>img.lazy { display: none; }
</style>
<meta name="keywords" content="DNS, DNSmasq, 网络资源">
<meta name="description" content="本文章由 @南琴浪 投稿，由 @Toyo 排版并完善，原文地址：https://www.nanqinlang.com/dnsmasq.html DNSmasq是一款小巧且方便地用于配置DNS服务和DHCP服务器的工具，适用于小型网络，它提供了DNS解析功能和可选择的DHCP功能，并且提供本地缓存查询请求的功能。同时搭配 SNI Proxy代理的话，可以实现只使用DNS就能科学上网！ 安装步骤 包管理器 安装 # CentOS 系统： y">
<!--[if lt IE 9]><script src="https://doub.io/wp-content/themes/yusi1.0/js/html5.js"></script><![endif]-->
<style type="text/css">.dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1!important}.dg.main .close-button.drag,.dg.main:hover .close-button{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;transition:opacity .1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save>ul{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height .1s ease-out;transition:height .1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid transparent}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.boolean,.dg .cr.boolean *,.dg .cr.function,.dg .cr.function *,.dg .cr.function .property-name{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco,monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px Lucida Grande,sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid hsla(0,0%,100%,.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.boolean:hover,.dg .cr.function:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}</style>
<script type="text/javascript">try {
var AG_onLoad=function(func){if(document.readyState==="complete"||document.readyState==="interactive")func();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",func);else if(document.attachEvent)document.attachEvent("DOMContentLoaded",func)};
var AG_removeElementById = function(id) { var element = document.getElementById(id); if (element && element.parentNode) { element.parentNode.removeChild(element); }};
var AG_removeElementBySelector = function(selector) { if (!document.querySelectorAll) { return; } var nodes = document.querySelectorAll(selector); if (nodes) { for (var i = 0; i < nodes.length; i++) { if (nodes[i] && nodes[i].parentNode) { nodes[i].parentNode.removeChild(nodes[i]); } } } };
var AG_each = function(selector, fn) { if (!document.querySelectorAll) return; var elements = document.querySelectorAll(selector); for (var i = 0; i < elements.length; i++) { fn(elements[i]); }; };
var AG_removeParent = function(el, fn) { while (el && el.parentNode) { if (fn(el)) { el.parentNode.removeChild(el); return; } el = el.parentNode; } };
var AdFox_getCodeScript = function() {};
AG_onLoad(function() { AG_each('iframe[id^="AdFox_iframe_"]', function(el) { if (el && el.parentNode) { el.parentNode.removeChild(el); } }); });
try { Object.defineProperty(window, 'noAdsAtAll', { get: function() { return true; } }); } catch (ex) {}
navigator.getBattery = undefined;
(function() { window.Ya = window.Ya || {}; window.Ya.Metrika = function() { var noop = function() {}; this.addFileExtension = noop; this.extLink = noop; this.file = noop; this.hit = noop; this.notBounce = noop; this.params = noop; this.reachGoal = noop; this.replacePhones = noop; this.clickmap = noop; this.trackLinks = noop; }; })();
var _gaq = []; var _gat = { _getTracker: function() { return { _initData: function(){}, _trackPageview: function(){}, _trackEvent: function(){}, _setAllowLinker: function() {}, _setCustomVar: function() {} } }, _createTracker: function() { return this._getTracker(); }, _anonymizeIp: function() {} };
function urchinTracker() {};
window.uabInject = function() {};
} catch (ex) { console.error('Error executing AG js: ' + ex); }</script>
</head>
<body class="single single-post postid-2050 single-format-standard">

<header id="header" class="header">
<div class="container-inner">
 <div class="yusi-logo">
                    <a href="../index.html">
                        <h1>
                                                        <span style="font-family:'jin_mei_mxplzx86d456993036';color: #fff;font-weight: normal;font-size: 54px;animation: shake-slow 300s ease-in-out infinite;"class="preview-item small shake-slow shake-constant shake-constant--hover">逗比根据地</span>
                                                        <span style="font-family:'LiDeBiao-Xing320e75d0253036';color: #fff;font-size: 24px;animation: shake-slow 300s ease-in-out infinite;" class="preview-item small shake-slow shake-constant shake-constant--hover">– 世界那么逗，我想出去看看</span>
                                                    </h1>
                    </a>
    </div>
</div>

	<div id="nav-header" class="navbar">
		
		<ul class="nav">
			<li><a href="../index.html"><i class="fa fa-flag"></i> 首页</a></li>
<li><a target="_blank" href="../dbtj/index.html"><i class="fa fa-thumbs-up"></i> 逗比推荐</a>
<ul class="sub-menu">
	<li><a target="_blank" href="../dbwz/index.html">碉堡网站</a></li>
	<li><a target="_blank" href="../dbrj/index.html">逗比软件</a></li>
	<li><a target="_blank" href="../xnzj/index.html">虚拟主机</a></li>
	<li><a target="_blank" href="../vpszy/index.html">VPS资源</a></li>
</ul>
</li>
<li class="current-post-ancestor"><a target="_blank" href="../kxsw/index.html"><i class="fa fa-google"></i> 科学上网</a>
<ul class="sub-menu">
	<li><a target="_blank" href="../androidkxsw/index.html">安卓合集</a></li>
	<li><a target="_blank" href="../pckxsw/index.html">电脑合集</a></li>
	<li class="current-post-ancestor current-menu-parent"><a target="_blank" href="../wlzy/index.html">网络资源</a></li>
	<li><a target="_blank" href="../jzzy/index.html">建站资源</a></li>
	<li><a target="_blank" href="../vpnzy/index.html">VPN资源</a></li>
	<li><a target="_blank" href="../shell/index.html">Shell脚本</a></li>
	<li><a target="_blank" href="../linux/index.html">Linux教程</a></li>
</ul>
</li>
<li><a target="_blank" href="../ss-jc26/index.html"><i class="fa fa-paper-plane"></i> Shadowsocks</a>
<ul class="sub-menu">
	<li><a target="_blank" href="../all-one/index.html"><span style="color: #ffe200;">网站文章 合辑</span></a></li>
	<li><a target="_blank" href="../sszhfx/index.html">免费账号 分享</a></li>
	<li><a target="_blank" href="../ss-jc26/index.html">所有教程 合辑</a></li>
	<li><a target="_blank" href="../ss-jc35/index.html">小白常见 问题</a></li>
	<li><a target="_blank" href="../ss-jc39/index.html">故障排除 方法</a></li>
	<li><a target="_blank" href="../ss-jc42/index.html">一键管理 脚本</a></li>
	<li><a target="_blank" href="../ss-jc60/index.html">一键管理 脚本2</a></li>
</ul>
</li>
<li><a target="_blank" href="../vps-tj/index.html"><i class="fa fa-tasks"></i> 便宜VPS推荐</a></li>
<li><a target="_blank" href="https://softs.fun"><i class="fa fa-cloud"></i> 逗比云</a></li>
<li><a target="_blank" href="../dashang/index.html"><span style="color: #ff6464;"><i class="fa fa-heart"></i></span> 捐赠打赏</a></li>
<li><a target="_blank" href="../guestbook/index.html"><i class="fa fa-pencil-square-o"></i> 留言</a></li>
<li style="float:right;">
                    <div class="toggle-search" style="width: 60px;"><i class="fa fa-search"></i><a href="index-replytocom=12225.html#" style="padding: 0;">搜索</a></div>
<div class="search-expand" style="display: none;"><div class="search-expand-inner"><form method="get" class="searchform themeform" onsubmit="location.href='https://doub.io/search/' + encodeURIComponent(this.s.value).replace(/%20/g, '+'); return false;" action="../index.html"><div> <input type="ext" class="search" name="s" onblur="if(this.value=='')this.value='请善用搜索功能...';" onfocus="if(this.value=='请善用搜索功能...')this.value='';" value="请善用搜索功能..."></div></form></div></div>
</li>
		</ul>
	</div>
	</div>
</header>
<section class="container"><div class="speedbar">
				<div class="toptip"><strong class="text-success"><i class="fa fa-volume-up"></i> </strong> 在曝光抄袭我免费SS账号的网站后，一些人就对它们进行了DD攻击，然后某站觉得是我打的，于是又怼我网站，背锅了。  <div style="float: right;margin: 0 10px;"><a target="_blank" href="../tougao/index.html"><i class="fa fa-envelope" style="color: #1abc9c;opacity: 1;"></i>投稿文章</a> | <a target="_blank" href="../guanggao/index.html"><i class="fa fa-money" style="color: #1abc9c;opacity: 1;"></i>广告投放</a> | <a target="_blank" href="https://doub.io/go/tg"><i class="fa fa-paper-plane" style="color: #1abc9c;opacity: 1;"></i>Telegram 群组</a> / <a target="_blank" href="https://doub.io/go/tg_a">公告频道</a> </div></div>
	</div>
	<div class="content-wrap">
	<div class="content">

				<header class="article-header">
			<h1 class="article-title"><a href="index.html">Linux 自建DNS 并使用SNI Proxy实现科学上网 —— DNSmasq配置教程</a></h1>
			<div class="meta">
				<span id="mute-category" class="muted"><i class="fa fa-list-alt"></i><a href="../wlzy/index.html"> 网络资源</a></span>				<span class="muted"><i class="fa fa-user"></i> <a href="../author/minamisindery/index.html">南琴浪</a></span>
				<time class="muted"><i class="fa fa-clock-o"></i> 5个月前 (03-30)</time>
				<!-- span class="muted"><i class="fa fa-eye"></i> 1620℃</span -->
				<span class="muted"><i class="fa fa-comments-o"></i> <a href="index.html#comments">27评论</a></span>							</div>
		</header>
		<article class="article-content">
			<div id="content-index" class="content-index" style="margin:0 0 10px 10px;float:right;"><div class="content-index-title">文章目录</div><span class="content-index-toctoggle">[<a id="content-index-togglelink" href="javascript:content_index_toggleToc()">显示</a>]</span>
<script type="text/javascript" language="javascript">
window.content_index_showTocToggle=false;function content_index_toggleToc(){var tts="显示";var tth="隐藏";if(window.content_index_showTocToggle){window.content_index_showTocToggle=false;document.getElementById("content-index-contents").style.display="none";document.getElementById("content-index-togglelink").innerHTML=tts}else{window.content_index_showTocToggle=true;document.getElementById("content-index-contents").style.display="block";document.getElementById("content-index-togglelink").innerHTML=tth}}
</script>
<ul id="content-index-contents" style="display: none;"><li class="content-index-level-1"><a href="index.html#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4" title="安装步骤"><span>安装步骤</span></a><ul class="children"><li class="content-index-level-2"><a href="index.html#%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8%20%E5%AE%89%E8%A3%85" title="包管理器 安装"><span>包管理器 安装</span></a></li><li class="content-index-level-2"><a href="index.html#%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%20%E5%AE%89%E8%A3%85" title="源码编译 安装"><span>源码编译 安装</span></a></li></ul></li><li class="content-index-level-1"><a href="index.html#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" title="配置文件"><span>配置文件</span></a><ul class="children"><li class="content-index-level-2"><a href="index.html#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E%EF%BC%9A" title="配置文件参数说明："><span>配置文件参数说明：</span></a></li><li class="content-index-level-2"><a href="index.html#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%20%E5%8D%95%E7%8B%AC%E5%BB%BA%E7%AB%8B%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A" title="自定义地址解析 单独建立一个配置文件："><span>自定义地址解析 单独建立一个配置文件：</span></a></li><li class="content-index-level-2"><a href="index.html#GFWList%E8%BD%AC%E4%B8%BADNSmasq%E7%9A%84SNI%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" title="GFWList转为DNSmasq的SNI配置文件"><span>GFWList转为DNSmasq的SNI配置文件</span></a></li></ul></li><li class="content-index-level-1"><a href="index.html#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E" title="使用说明"><span>使用说明</span></a></li><li class="content-index-level-1"><a href="index.html#%E5%8D%B8%E8%BD%BD%20DNSmasq" title="卸载 DNSmasq"><span>卸载 DNSmasq</span></a></li><li class="content-index-level-1"><a href="index.html#%E5%85%B6%E4%BB%96%E8%AF%B4%E6%98%8E" title="其他说明"><span>其他说明</span></a></li></ul></div>
<div class="old-message">本文最后更新于 <a style="color: #ff6464;"><strong>2017年5月3日 23:28</strong></a> 可能会因为没有更新而失效。如已失效或需要修正，请留言！</div><blockquote><p>本文章由 <a href="../author/minamisindery/index.html" target="_blank">@南琴浪</a> 投稿，由 <a href="../author/toyo/index.html" target="_blank">@Toyo</a> 排版并完善，原文地址：<a href="https://www.nanqinlang.com/dnsmasq.html" target="_blank">https://www.nanqinlang.com/dnsmasq.html</a></p></blockquote>
<p>DNSmasq是一款小巧且方便地用于配置DNS服务和DHCP服务器的工具，适用于小型网络，它提供了DNS解析功能和可选择的DHCP功能，并且提供本地缓存查询请求的功能。同时搭配 SNI Proxy代理的话，可以实现只使用DNS就能科学上网！</p>
<h2 id="安装步骤">安装步骤</h2>
<h3 id="包管理器 安装">包管理器 安装</h3>
<pre class="prettyprint linenums"># CentOS 系统：
yum update
yum install -y dnsmasq

# Debian/Ubuntu 系统：
apt-get update
apt-get install -y dnsmasq
</pre>
<p><!-- &gt;--></p>
<h3 id="源码编译 安装">源码编译 安装</h3>
<p>DNSmasq 官方网站：<a href="http://www.thekelleys.org.uk/dnsmasq/" target="_blank">http://www.thekelleys.org.uk/dnsmasq/</a></p>
<p>编译需要相关组件支持，所以安装编译依赖包：</p>
<pre class="prettyprint linenums"># CentOS 系统：
yum update
yum -y groupinstall "Development Tools"

# Debian/Ubuntu 系统：
apt-get update
apt-get install -y build-essential
</pre>
<p><strong>获取最新版本：</strong></p>
<pre class="prettyprint linenums">dnsmasq_ver=$(wget -qO- http://www.thekelleys.org.uk/dnsmasq/ | awk -F'\"dnsmasq-' '/dnsmasq-[2-9].[0-9][0-9].tar.gz\"&gt;dnsmasq/{print $2}' | cut -c 1-4 | sort -V | tail -1)
</pre>
<p><strong>下载解压编译：</strong></p>
<pre class="prettyprint linenums">wget http://www.thekelleys.org.uk/dnsmasq/dnsmasq-${dnsmasq_ver}.tar.gz
tar -xzf dnsmasq-${dnsmasq_ver}.tar.gz
cd dnsmasq-${dnsmasq_ver}
make install
ldconfig
# 编译安装完毕后，可以删除没用的源码文件了。
cd ..
rm -rf dnsmasq-${dnsmasq_ver} &amp;&amp; rm -rf dnsmasq-${dnsmasq_ver}.tar.gz
</pre>
<hr />
<p>包管理器 安装后，查看下DNSmasq的版本：</p>
<pre class="prettyprint linenums">dnsmasq -v
# 以下是输出结果，只要不是提示 找不到命令就没事( -bash: dnsmasq: command not found )
Dnsmasq version x.xx Copyright (c) 2000-2012 Simon Kelley
Compile time options: IPv6 GNU-getopt DBus i18n IDN DHCP DHCPv6 no-Lua TFTP conntrack

This software comes with ABSOLUTELY NO WARRANTY.
Dnsmasq is free software, and you are welcome to redistribute it
under the terms of the GNU General Public License, version 2 or 3.
</pre>
<h2 id="配置文件">配置文件</h2>
<p>Dnsmasq的配置文件为：<code>dnsmasq.conf</code></p>
<p>包管理器 方式安装的配置文件位置为：<code>/etc/dnsmasq.conf</code></p>
<p>本教程只介绍配置DNS服务，以下部分只指出DNS服务的相关配置。</p>
<p>首先复制一份配置文件的备份，然后清空原配置文件，并根据下面的参数说明写入配置内容：</p>
<pre class="prettyprint linenums">cp /etc/dnsmasq.conf /etc/dnsmasq.conf.bak
echo "" &gt; /etc/dnsmasq.conf
# 打开配置文件并根据下面的参数说明写入配置内容，按 <strong>I键</strong> 进入编辑模式，改完后按 <strong>ESC键</strong> 退出并输入 <strong>:wq</strong> 保存并退出。
vi /etc/dnsmasq.conf</pre>
<h3 id="配置文件参数说明：">配置文件参数说明：</h3>
<pre class="prettyprint linenums">port=53
 # 指定DNSmasq的监听端口，默认为53端口，也可设置为5353端口从而防止53端口DNS污染（但某些设备如win并不支持非53端口）

resolv-file=/xxx/xx.conf
 # 指定DNSmasq获取上游DNS服务器地址的文件，不配置此项则默认从 /etc/resolv.conf(linux默认DNS配置文件) 获取

strict-order
 # 严格按照 resolv-file 参数指定的文件中按从上到下的顺序发送DNS解析请求，直至获取解析应答成功为止

listen-address=
 # 指定DNSmasq监听的地址，若仅提供为本机使用可设置为 127.0.0.1 ，留空或设置为 0.0.0.0 即任何人都可访问

address=/xxx.xx/x.x.x.x
 # 自定义某些地址的解析服务器，可以 过滤或者指定 某些网站（支持ipv6，直接写ipv6的地址即可）
 # 过滤广告或者某域名，例如配置 address=/www.nanqinlang.com/127.0.0.1
 # 把广告域名解析请求发送到错误的解析服务器IP 127.0.0.1 即可屏蔽该域名的访问
<strong> # 也可以把 www.google.com 等指向一个国外的SNI代理IP，即可实现DNS科学上网</strong>

server=208.67.222.222#5353
 # 指定上游DNS解析服务器,此处推荐设置为可使用5353端口的opendns

bogus-nxdomain=208.67.222.222
 # 用于防止DNS污染/劫持，参数和上面 server 项填写相同的 ip ，但不支持非53端口。

conf-dir=/etc/dnsmasq.d
 # 加载 /etc/dnsmasq.d 文件夹内的配置文件</pre>
<p><strong>配置文件示例：</strong></p>
<p class="toggle" style="margin: 0 -10px;"><i class="fa fa-thumb-tack" style="float: left;color: #00a67c;line-height: 1.5;"></i> <a href="index-replytocom=12225.html#">点击展开 查看示例</a></p><div class="toggle-box" style="display: none;"><p></p>
<pre class="prettyprint linenums">port=53
strict-order
listen-address=127.0.0.1
server=208.67.222.222#53
bogus-nxdomain=208.67.222.222
conf-dir=/etc/dnsmasq.d</pre>
<p></p></div>
<h3 id="自定义地址解析 单独建立一个配置文件：">自定义地址解析 单独建立一个配置文件：</h3>
<pre class="prettyprint linenums">vi /etc/dnsmasq.d/sniporxy.conf
</pre>
<p>然后按格式写入自定义地址解析，<strong>示例如下：</strong></p>
<blockquote><p>这里可以配合我的另一个教程：<a title="一个 反代无需证书 适用于DNS/Hosts的小工具 —— SNI Proxy代理 安装教程 - 逗比根据地" href="../wlzy-27/index.html" target="_blank">一个 反代无需证书 适用于DNS/Hosts的小工具 —— SNI Proxy代理 安装教程</a></p>
<p>把谷歌等域名的解析IP指定为 SNI Proxy代理的IP，当你使用这个DNS时，就会通过解析为SNI代理 IP，然后通过SNI代理访问谷歌，这就是使用自建DNS实现科学上网（和Hosts方式原理是一样的，不过一个在云服务器上，一个在本地）。</p>
<p>注意：这里都是默认泛域名，比如<code> /google.com/1.1.1.1 </code>代表<code> google.com, www.google.com, api.google.com </code>等域名全部解析为<code> 1.1.1.1 </code>。</p></blockquote>
<pre class="prettyprint linenums">address=/google.com/1.1.1.1
address=/google.com.hk/1.1.1.1
address=/google.co.jp/1.1.1.1
address=/gmail.com/1.1.1.1
address=/youtube.com/1.1.1.1
</pre>
<pre>注意：如果 这个文件或配置文件 修改了，那么需要重启 DNSmasq后才能生效。</pre>
<h3 id="GFWList转为DNSmasq的SNI配置文件">GFWList转为DNSmasq的SNI配置文件</h3>
<p>大家可能觉得如果用上面的自己创建的 SNI配置文件的话，要写全被墙的网站域名会很麻烦，于是我就找到了这个 python的脚本（由 <a href="https://blog.ahokitsune.org/" target="_blank">@犬走つばき</a> 提供脚本项目地址），可以把 gfwlist的PAC转成 DNSmasq的SNI配置文件。</p>
<p><strong>Python脚本项目：<a href="https://github.com/R0uter/Dnsmasq-sniproxy-conf" target="_blank">https://github.com/R0uter/Dnsmasq-sniproxy-conf</a></strong></p>
<p>首先下载这个 python脚本：</p>
<pre class="prettyprint linenums">wget -N --no-check-certificate https://raw.githubusercontent.com/R0uter/Dnsmasq-sniproxy-conf/master/gfwlist2dnsmasq-sni-conf.py
</pre>
<p>然后替换脚本内默认的SNI代理IP(127.0.0.1)为自己的IP，加入你的SNI代理IP为<code>1.1.1.1</code>，那么这样（你可以用 vi 等编辑器修改第12行的IP）：</p>
<pre class="prettyprint linenums">sed -i 's/127.0.0.1/1.1.1.1/' gfwlist2dnsmasq-sni-conf.py
</pre>
<p>修改后，可以使用<code> cat gfwlist2dnsmasq-sni-conf.py </code>查看一下第12行的IP是否为自己的SNI代理IP，如果正确，那么继续。</p>
<p>先确定你的 Linux系统中安装了 Python ：</p>
<pre class="prettyprint linenums">python -V

# 如果返回的是 python的版本信息那就继续下面步骤，如果返回的是 命令找不到(-bash: python: command not found)，那么请安装 python：
# CentOS 系统：
yum install python -y
# Debian/Ubuntu 系统：
apt-get install python -y
</pre>
<p>然后我们运行脚本：</p>
<pre class="prettyprint linenums">python gfwlist2dnsmasq-sni-conf.py
</pre>
<p>运行脚本后会输出转换的信息，输出完后，就会在当前文件夹下生成一个<code> sni.conf </code>文件，把他移动到<code> /etc/dnsmasq.d/ </code>文件夹内即可。</p>
<pre class="prettyprint linenums">mv sni.conf /etc/dnsmasq.d/sni.conf
</pre>
<p>然后重启 DNSmasq就会生效。</p>
<pre class="prettyprint linenums">service dnsmasq restart
</pre>
<blockquote><p>需要注意的是，因为 GFWList是一直更新的，所以你的SNI配置文件也要定时更新，步骤一样，运行脚本就会自动获取最新的GFWList文件并转换成DNSmasq的SNI配置文件。</p></blockquote>
<h2 id="使用说明">使用说明</h2>
<p>启用DNSmasq服务</p>
<pre class="prettyprint linenums">service dnsmasq start
</pre>
<p>停止DNSmasq服务</p>
<pre class="prettyprint linenums">service dnsmasq stop
</pre>
<p>重启DNSmasq服务（当修改配置文件后，需要重启）</p>
<pre class="prettyprint linenums">service dnsmasq restart
</pre>
<h2 id="卸载 DNSmasq">卸载 DNSmasq</h2>
<p>如果 /etc/dnsmasq.d 目录有文件，那么需要先删除这个目录才能正常卸载：</p>
<pre class="prettyprint linenums"># 先删除这个目录
rm -rf /etc/dnsmasq.d 

# CentOS 系统 
yum remove dnsmasq -y 

# Debian/Ubuntu 系统： 
apt-get remove --purge dnsmasq -y</pre>
<h2 id="其他说明">其他说明</h2>
<p>这个可能是防火墙的问题，因为DNS是UDP传输的，所以只开放UDP端口即可。</p>
<pre class="prettyprint linenums">iptables -I INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT

# 删除防火墙规则，内容一样把 -I 换成 -D 就行了：
iptables -D INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT</pre>
<hr />
<p>在PC/路由器/移动设备中设置DNS为你的VPS IP，端口设置53(如有) 即可。</p>
<p><pre style="border-left: solid 4px #1abc9c;"><strong>转载请超链接注明：</strong><a href="../index.html">逗比根据地</a> &raquo; <a href="index.html">Linux 自建DNS 并使用SNI Proxy实现科学上网 —— DNSmasq配置教程</a></pre><pre><strong>责任声明：</strong>本站一切资源仅用作交流学习，请勿用作商业或违法行为！如造成任何后果，本站概不负责！</pre></p>

      
<div class="article-social">
			<a href="javascript:;" data-action="ding" data-id="2050" id="Addlike" class="action"><i class="fa fa-thumbs-o-up"></i>赞 (<span class="count">21</span>)</a><span class="or">or</span><a class="action dashang-single" target="_blank" href="../dashang/index.html"><i style="color: #ff6464;" class="fa fa-heart"></i>打赏</a>
</div>
	</article>	
				<footer class="article-footer">
			<div class="article-tags"><i class="fa fa-tags"></i><a href="../tag/dns/index.html" rel="tag">DNS</a><a href="../tag/dnsmasq/index.html" rel="tag">DNSmasq</a></div></footer>
	<nav class="article-nav">
			<span class="article-nav-prev"><i class="fa fa-angle-double-left"></i> <a href="../sync-jc1/index.html" rel="prev">Linux 搭建 Resilio Sync Web UI 同步客户端教程</a></span>
			<span class="article-nav-next"><a href="../linux-jc8/index.html" rel="next">『持续更新』Linux 常用命令简单介绍 —— 基础篇</a>  <i class="fa fa-angle-double-right"></i></span>
		</nav>

		<div class="related_top">
			<div class="related_posts"><ul class="related_img">

		<li class="related_box"  >
		<a href="../wlzy-34/index.html" title="Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）" target="_blank">
<img src="../wp-content/themes/yusi1.0/timthumb.php-src=https---doub.io-wp-content-uploads-qita-04-03.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1.png" alt="Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）" />	<br><span class="r_title">Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="../dowsdns-jc3/index.html" title="『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本" target="_blank">
<img src="../wp-content/themes/yusi1.0/timthumb.php-src=https---doub.io-wp-content-uploads-dns.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1.png" alt="『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本" />	<br><span class="r_title">『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="../dowsdns-jc2/index.html" title="Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告" target="_blank">
<img src="../wp-content/themes/yusi1.0/timthumb.php-src=https---doub.io-wp-content-uploads-dns.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1.png" alt="Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告" />	<br><span class="r_title">Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="../ss-jc53/index.html" title="ShadowsocksR服务端 如何自定义/修改 DNS服务器" target="_blank">
<img src="../wp-content/themes/yusi1.0/timthumb.php-src=https---doub.io-wp-content-uploads-dns-1.png&amp;h=110&amp;w=185&amp;q=90&amp;zc=1&amp;ct=1.png" alt="ShadowsocksR服务端 如何自定义/修改 DNS服务器" />	<br><span class="r_title">ShadowsocksR服务端 如何自定义/修改 DNS服务器</span></a>
		</li>
	</ul>

<div class="relates">
<ul>
<li><i class="fa fa-minus"></i><a href="../wlzy-34/index.html">Debian 编译安装 SNI Proxy 反向代理教程（可用于Hosts/DNS服务器）</a></li><li><i class="fa fa-minus"></i><a href="../dowsdns-jc3/index.html">『原创』快速自建DNS服务器以 科学上网+屏蔽广告 —— dowsDNS 一键脚本</a></li><li><i class="fa fa-minus"></i><a href="../dowsdns-jc2/index.html">Linux 使用 dowsDNS 快速自建DNS服务器以 科学上网+屏蔽广告</a></li><li><i class="fa fa-minus"></i><a href="../ss-jc53/index.html">ShadowsocksR服务端 如何自定义/修改 DNS服务器</a></li><li><i class="fa fa-minus"></i><a href="../wlzy-27/index.html">一个 反代无需证书 适用于DNS/Hosts的小工具 —— SNI Proxy代理 安装教程</a></li><li><i class="fa fa-minus"></i><a href="../wlzy-26/index.html">一个搭建 本地DNS 以科学上网的小工具 —— dowsDNS</a></li><li><i class="fa fa-minus"></i><a target="_blank" href="../wlzy-35/index.html">『7/24』百度云网盘不限速 命令行下载工具 —— BaiduPCS 使用教程</a></li><li><i class="fa fa-minus"></i><a target="_blank" href="../wlzy-33/index.html">锐速(ServerSpeeder/LotServer)配置参数简单说明，合理修改配置 提高加速效果</a></li>
</ul></div></div>		</div>
						<div id="respond" class="no_webshot">
		<form action="https://doub.io/wp-comments-post.php" method="post" id="commentform">
		
		<div class="comt-title">
			<div class="comt-avatar pull-left">
							</div>
			<div class="comt-author pull-left">
			发表我的评论			</div>
			<a id="cancel-comment-reply-link" class="pull-right" href="javascript:;">取消评论</a>
		</div>
		
		<div class="comt">
			<div class="comt-box">
				<textarea placeholder="看见这么吊的文章，还不惊为天人？赶紧写下感想膜拜一下吧！哇哇哇（如问略复杂的问题请Telegram[t.me/doubi]联系本人，评论里只适合简单的交流。）" class="input-block-level comt-area" name="comment" id="comment" cols="100%" rows="3" tabindex="1" onkeydown="if(event.ctrlKey&amp;&amp;event.keyCode==13){document.getElementById('submit').click();return false};"></textarea>
				<div class="comt-ctrl">
					<button class="btn btn-primary pull-right" type="submit" name="submit" id="submit" tabindex="5"><i class="fa fa-check-square-o"></i> 提交评论</button>
					<div class="comt-tips pull-right"><input type='hidden' name='comment_post_ID' value='2050' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='12225' />
</div>
					<span data-type="comment-insert-smilie" class="muted comt-smilie"><i class="fa fa-smile-o"></i> 表情</span>
					<span class="muted comt-mailme"><label for="comment_mail_notify" class="checkbox inline" style="padding-top:0"><input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" value="comment_mail_notify" checked="checked"/>有人回复时邮件通知我</label></span>
				</div>
			</div>

												<div class="comt-comterinfo" id="comment-author-info" >
						<h4>Hi，您需要填写昵称和邮箱！</h4>
						<ul>
							<li class="form-inline"><label class="hide" for="author">昵称</label><input class="ipt" type="text" name="author" id="author" value="" tabindex="2" placeholder="昵称"><span class="help-inline">昵称 (必填)</span></li>
							<li class="form-inline"><label class="hide" for="email">邮箱</label><input class="ipt" type="text" name="email" id="email" value="" tabindex="3" placeholder="邮箱"><span class="help-inline">邮箱 (必填)</span></li>
							<li class="form-inline"><label class="hide" for="url">网址</label><input class="ipt" type="text" name="url" id="url" value="" tabindex="4" placeholder="网址"><span class="help-inline">网址</span></li>
						</ul>
					</div>
									</div>

		
	</form>
	</div>
<div id="postcomments">
	<div id="comments">
		<i class="fa fa-comments-o"></i> <b> (27)</b>个小伙伴在吐槽
	</div>
	<ol class="commentlist">
		<li class="comment even thread-even depth-1" id="comment-15203"><div class="c-avatar"><div class="c-main" id="div-comment-15203">别说翻墙了，就连正常的网页都没办法解析。能不能写一篇格式化的教程，只要照着做就能OK的？<div class="c-meta"><span class="c-author">交易者</span>2017-07-01 11:48 <a class='comment-reply-link' href='index-replytocom=15203.html#respond' onclick='return addComment.moveForm( "div-comment-15203", "15203", "respond", "2050" )' aria-label='回复给交易者'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-2" id="comment-16399"><div class="c-avatar"><div class="c-main" id="div-comment-16399">那行吧 我之后把我的配置文件贴出来<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com' rel='external nofollow' class='url'>南琴浪</a></span>2017-08-03 14:41 <a class='comment-reply-link' href='index-replytocom=16399.html#respond' onclick='return addComment.moveForm( "div-comment-16399", "16399", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-13611"><div class="c-avatar"><div class="c-main" id="div-comment-13611">搭完内网nslookup有反应 用外网就不行了可能是什么原因找了一下午原因还是找不到是哪里问题,端口扫描也显示我这个外网ip确实开放了53端口了,我已经设置了安全组全部端口转发了<div class="c-meta"><span class="c-author">heike</span>2017-05-09 18:56 <a class='comment-reply-link' href='index-replytocom=13611.html#respond' onclick='return addComment.moveForm( "div-comment-13611", "13611", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-2" id="comment-13612"><div class="c-avatar"><div class="c-main" id="div-comment-13612">显示DNS request timed out,应该是没有连上dns,
而且netstat -uanp查询显示
udp6       0      0 :::53                   :::*                                24094/dnsmasq<div class="c-meta"><span class="c-author">heike</span>2017-05-09 19:22 <a class='comment-reply-link' href='index-replytocom=13612.html#respond' onclick='return addComment.moveForm( "div-comment-13612", "13612", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-3" id="comment-13613"><div class="c-avatar"><div class="c-main" id="div-comment-13613">和udp        0      0 0.0.0.0:53              0.0.0.0:*                           24094/dnsmasq<div class="c-meta"><span class="c-author">heike</span>2017-05-09 19:24 <a class='comment-reply-link' href='index-replytocom=13613.html#respond' onclick='return addComment.moveForm( "div-comment-13613", "13613", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-4" id="comment-13614"><div class="c-avatar"><div class="c-main" id="div-comment-13614">我把listen-address=改成自己的内网ip意外成功了。不造为什么。<div class="c-meta"><span class="c-author">heike</span>2017-05-09 20:15 <a class='comment-reply-link' href='index-replytocom=13614.html#respond' onclick='return addComment.moveForm( "div-comment-13614", "13614", "respond", "2050" )' aria-label='回复给heike'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor even depth-5" id="comment-13978"><div class="c-avatar"><div class="c-main" id="div-comment-13978">listen-address是监听地址<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-05-19 23:41 <a class='comment-reply-link' href='index-replytocom=13978.html#respond' onclick='return addComment.moveForm( "div-comment-13978", "13978", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-13584"><div class="c-avatar"><div class="c-main" id="div-comment-13584">可以试试我整理的dnsmasq规则。
https://raw.githubusercontent.com/sy618/hosts/master/dnsmasq/dnsfq<div class="c-meta"><span class="c-author">619</span>2017-05-09 00:02 <a class='comment-reply-link' href='index-replytocom=13584.html#respond' onclick='return addComment.moveForm( "div-comment-13584", "13584", "respond", "2050" )' aria-label='回复给619'>回复</a></div></div></div></li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-13262"><div class="c-avatar"><div class="c-main" id="div-comment-13262">root@debian:/home/lyf# service dnsmasq restart
Job for dnsmasq.service failed. See 'systemctl status dnsmasq.service' and 'journalctl -xn' for details.
提示此错误该如何解决求教！谢谢！<div class="c-meta"><span class="c-author">Hilo</span>2017-04-29 00:50 <a class='comment-reply-link' href='index-replytocom=13262.html#respond' onclick='return addComment.moveForm( "div-comment-13262", "13262", "respond", "2050" )' aria-label='回复给Hilo'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor odd alt depth-2" id="comment-13423"><div class="c-avatar"><div class="c-main" id="div-comment-13423">你的是debian8吗 那就应该用systemctl而不是service；
如果是启动失败就得检查下配置文件<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-05-03 23:18 <a class='comment-reply-link' href='index-replytocom=13423.html#respond' onclick='return addComment.moveForm( "div-comment-13423", "13423", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-even depth-1" id="comment-13060"><div class="c-avatar"><div class="c-main" id="div-comment-13060">建这个服务器有什么要求吗？怎么我见建不到？别说翻墙了，就连正常的网页都没办法解析。<div class="c-meta"><span class="c-author">chx818</span>2017-04-22 22:10 <a class='comment-reply-link' href='index-replytocom=13060.html#respond' onclick='return addComment.moveForm( "div-comment-13060", "13060", "respond", "2050" )' aria-label='回复给chx818'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor odd alt depth-2" id="comment-13084"><div class="c-avatar"><div class="c-main" id="div-comment-13084">是linux就行的 完全不能解析的话应该是哪里配置有误<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-04-23 20:45 <a class='comment-reply-link' href='index-replytocom=13084.html#respond' onclick='return addComment.moveForm( "div-comment-13084", "13084", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment even thread-odd thread-alt depth-1" id="comment-12851"><div class="c-avatar"><div class="c-main" id="div-comment-12851">是不是只要是国外的vps，53端口都会被污染，因为我试了下阿里云的貌似就可以正常解析dns<div class="c-meta"><span class="c-author">ecareyu</span>2017-04-16 10:16 <a class='comment-reply-link' href='index-replytocom=12851.html#respond' onclick='return addComment.moveForm( "div-comment-12851", "12851", "respond", "2050" )' aria-label='回复给ecareyu'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-toyo odd alt depth-2" id="comment-12852"><div class="c-avatar"><div class="c-main" id="div-comment-12852">是，墙会监听 53端口，而DNS都是明文的UDP，所以很容易被墙发现，然后伪造假的IP提前返回给你，达到污染的目的。<div class="c-meta"><span class="c-author"><a href='../index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-04-16 10:36 <a class='comment-reply-link' href='index-replytocom=12852.html#respond' onclick='return addComment.moveForm( "div-comment-12852", "12852", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div></li><!-- #comment-## -->
<li class="comment byuser comment-author-minamisindery bypostauthor even depth-2" id="comment-13029"><div class="c-avatar"><div class="c-main" id="div-comment-13029">国内dns根本就不需要污染（不存在污染这回事） 本来就是被监管 已经和谐过的。<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-04-21 20:45 <a class='comment-reply-link' href='index-replytocom=13029.html#respond' onclick='return addComment.moveForm( "div-comment-13029", "13029", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-12444"><div class="c-avatar"><div class="c-main" id="div-comment-12444">这个可以应用到路由器里面吗？<div class="c-meta"><span class="c-author">Matt9049</span>2017-04-05 09:24 <a class='comment-reply-link' href='index-replytocom=12444.html#respond' onclick='return addComment.moveForm( "div-comment-12444", "12444", "respond", "2050" )' aria-label='回复给Matt9049'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-toyo even depth-2" id="comment-12449"><div class="c-avatar"><div class="c-main" id="div-comment-12449">应该是可以的。<div class="c-meta"><span class="c-author"><a href='../index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-04-05 10:21 <a class='comment-reply-link' href='index-replytocom=12449.html#respond' onclick='return addComment.moveForm( "div-comment-12449", "12449", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-12220"><div class="c-avatar"><div class="c-main" id="div-comment-12220">之前试过了，解析出来的依然是被污染的IP，去广告到确实是可以滴<div class="c-meta"><span class="c-author">owen</span>2017-03-30 23:31 <a class='comment-reply-link' href='index-replytocom=12220.html#respond' onclick='return addComment.moveForm( "div-comment-12220", "12220", "respond", "2050" )' aria-label='回复给owen'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-minamisindery bypostauthor even depth-2" id="comment-12222"><div class="c-avatar"><div class="c-main" id="div-comment-12222">监听端口使用5353的就可以绕过53污染了<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com/' rel='external nofollow' class='url'>南琴浪</a></span>2017-03-31 00:08 <a class='comment-reply-link' href='index-replytocom=12222.html#respond' onclick='return addComment.moveForm( "div-comment-12222", "12222", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div><ul class="children">
<li class="comment odd alt depth-3" id="comment-12225"><div class="c-avatar"><div class="c-main" id="div-comment-12225">围观本人！<div class="c-meta"><span class="c-author">kurokitomoko</span>2017-03-31 09:12 <a class='comment-reply-link' href='index-replytocom=12225.html#respond' onclick='return addComment.moveForm( "div-comment-12225", "12225", "respond", "2050" )' aria-label='回复给kurokitomoko'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-4" id="comment-12229"><div class="c-avatar"><div class="c-main" id="div-comment-12229">多谢围观（#滑稽）<div class="c-meta"><span class="c-author"><a href='https://www.nanqinlang.com' rel='external nofollow' class='url'>南琴浪</a></span>2017-03-31 11:44 <a class='comment-reply-link' href='index-replytocom=12229.html#respond' onclick='return addComment.moveForm( "div-comment-12229", "12229", "respond", "2050" )' aria-label='回复给南琴浪'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
<li class="comment odd alt thread-even depth-1" id="comment-12212"><div class="c-avatar"><div class="c-main" id="div-comment-12212">只要把gfwlist里面的网址全部复制就可以愉悦科学了吧 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_lol.gif" alt=":lol:" class="wp-smiley" style="height: 1em; max-height: 1em;" /> 
好麻烦<div class="c-meta"><span class="c-author">kurokitomoko</span>2017-03-30 21:50 <a class='comment-reply-link' href='index-replytocom=12212.html#respond' onclick='return addComment.moveForm( "div-comment-12212", "12212", "respond", "2050" )' aria-label='回复给kurokitomoko'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-2" id="comment-12213"><div class="c-avatar"><div class="c-main" id="div-comment-12213">不过这个可以应用到ps4呢 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_lol.gif" alt=":lol:" class="wp-smiley" style="height: 1em; max-height: 1em;" /><div class="c-meta"><span class="c-author">kurokitomoko</span>2017-03-30 21:59 <a class='comment-reply-link' href='index-replytocom=12213.html#respond' onclick='return addComment.moveForm( "div-comment-12213", "12213", "respond", "2050" )' aria-label='回复给kurokitomoko'>回复</a></div></div></div></li><!-- #comment-## -->
<li class="comment byuser comment-author-toyo odd alt depth-2" id="comment-12216"><div class="c-avatar"><div class="c-main" id="div-comment-12216">我记得网上有那些整理好的 DNS列表，直接替换里面的SNI代理IP为自己的SNI代理IP，然后放到<code> /etc/dnsmasq.d/ </code>文件夹下即可。<br />
不过我找不到那个链接了。。。<div class="c-meta"><span class="c-author"><a href='../index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-03-30 22:10 <a class='comment-reply-link' href='index-replytocom=12216.html#respond' onclick='return addComment.moveForm( "div-comment-12216", "12216", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-3" id="comment-12410"><div class="c-avatar"><div class="c-main" id="div-comment-12410">这个妾这里有，是个python脚本的来着，上次找dnscrypt的时候偶然发现<div class="c-meta"><span class="c-author"><a href='https://blog.ahokitsune.org' rel='external nofollow' class='url'>犬走つばき</a></span>2017-04-04 07:57 <a class='comment-reply-link' href='index-replytocom=12410.html#respond' onclick='return addComment.moveForm( "div-comment-12410", "12410", "respond", "2050" )' aria-label='回复给犬走つばき'>回复</a></div></div></div><ul class="children">
<li class="comment byuser comment-author-toyo odd alt depth-4" id="comment-12425"><div class="c-avatar"><div class="c-main" id="div-comment-12425">已经加入脚本使用步骤到文章里了 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_lol.gif" alt=":lol:" class="wp-smiley" style="height: 1em; max-height: 1em;" /><div class="c-meta"><span class="c-author"><a href='../index.html' rel='external nofollow' class='url'>Toyo</a></span>2017-04-04 14:11 <a class='comment-reply-link' href='index-replytocom=12425.html#respond' onclick='return addComment.moveForm( "div-comment-12425", "12425", "respond", "2050" )' aria-label='回复给Toyo'>回复</a></div></div></div><ul class="children">
<li class="comment even depth-5" id="comment-12476"><div class="c-avatar"><div class="c-main" id="div-comment-12476">厉害 超级详细有用的教程！ 回帖的小伙伴也好有爱 <img data-original="https://doub.io/wp-content/themes/yusi1.0/img/smilies/icon_idea.gif" alt=":idea:" class="wp-smiley" style="height: 1em; max-height: 1em;" /><div class="c-meta"><span class="c-author">s0r</span>2017-04-05 20:39 <a class='comment-reply-link' href='index-replytocom=12476.html#respond' onclick='return addComment.moveForm( "div-comment-12476", "12476", "respond", "2050" )' aria-label='回复给s0r'>回复</a></div></div></div></li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
	</ol>
	<div class="commentnav"	>
			</div>
</div>
			</div>
</div>
<aside class="sidebar">	
<div class="widget widget_text"><div class="textwidget"><div class="social">

<a href="https://doub.io/go/g-plus/" rel="external nofollow" title="Google plus" target="_blank"><i class="sinaweibo fa fa-google"></i></a><a  href="https://doub.io/go/github/" rel="external nofollow" title="Github" target="_blank"><i class="github fa fa-github"></i></a><a href="https://doub.io/go/twitter/" rel="external nofollow" title="Twitter" target="_blank"><i class="twitter fa fa-twitter"></i></a><a href="https://doub.io/go/facebook/" rel="external nofollow" title="Facebook" target="_blank"><i class="facebook fa fa-facebook"></i></a><a href="https://doub.io/go/tg/" rel="external nofollow" title="Telegram" target="_blank"><i class="paper-plane fa fa-paper-plane"></i></a><a href="../feed/index.rss" rel="external nofollow" target="_blank"  title="订阅本站"><i class="rss fa fa-rss"></i></a>
</div></div></div>

<div class="widget widget_text">			<div class="textwidget"><div style="text-align:center;padding: 10px 20px 5px;">
<a class="wid-xiaobai" style="padding-top:15px;padding-bottom:15px;background-color: #2196F3;font-size: 16px;font-weight: bold;" target="_blank" href="../all-one/index.html">逗比根据地 所有文章教程分类合辑</a>
<a class="wid-xiaobai" style="padding-top: 7px;padding-bottom: 7px;background-color: #673AB7;" target="_blank" href="../ss-jc26/index.html">Shadowsocks 指导篇 SS教程合辑</a>
<a class="wid-xiaobai wid-xiaobai-red" style="background-color: #E91E63;" target="_blank" href="../sszhfx/index.html">Shadowsocks 免费公共 账号分享</a>
<a class="wid-xiaobai wid-xiaobai-red" target="_blank" href="../ss-jc39/index.html">Shadowsocks 无法使用 排除方法</a>
<a class="wid-xiaobai wid-xiaobai-red" target="_blank" href="../ss-jc35/index.html">Shadowsocks 小白 常见问题合辑</a>
<a class="wid-xiaobai wid-xiaobai-red" target="_blank" href="../ss-jc10/index.html">ShadowsocksR&nbsp; 客户端 小白教程</a>
<a class="wid-xiaobai" target="_blank" href="../ss-jc41/index.html">ShadowsocksR&nbsp; 服务端 视频教程</a>
<a class="wid-xiaobai wid-xiaobai-red" target="_blank" href="../ss-jc42/index.html">ShadowsocksR&nbsp; 单用户 一键脚本</a>
<a class="wid-xiaobai wid-xiaobai-red" target="_blank" href="../ss-jc60/index.html">ShadowsocksR&nbsp; 多用户 一键脚本</a>
<a class="wid-xiaobai" target="_blank" href="../wlzy-16/index.html">Linux 优化加速技巧 BBR 一键脚本</a>
<a class="wid-xiaobai" target="_blank" href="../ruisu-jc1/index.html">Linux 优化加速技巧  锐速 一键脚本</a>
<a class="wid-xiaobai" target="_blank" href="../wlzy-21/index.html">Linux 优化加速 LotServer 一键脚本</a>
<a class="wid-xiaobai" target="_blank" href="../wlzy-33/index.html">锐速 / LotServer 配置参数简单说明</a>
<a class="wid-xiaobai" target="_blank" href="../vpnzy-2/index.html">CentOS/Debian/Ubuntu L2TP &nbsp;一键脚本</a>
<a class="wid-xiaobai" target="_blank" href="../vpnzy-3/index.html">CentOS/Debian/Ubuntu IKEv2 一键脚本</a>
<a class="wid-xiaobai" target="_blank" href="../vpnzy-7/index.html">Debian/Ubuntu AnyConnect &nbsp;&nbsp;&nbsp;一键脚本</a>
<a class="wid-xiaobai wid-xiaobai-red" style="background-color: #FF5722;" target="_blank" href="../linux-jc8/index.html">「持续更新」Linux常见命令介绍 - 基础篇</a>
<a class="wid-xiaobai wid-xiaobai-red" style="background-color: #03a9f4;" target="_blank" href="../jzzy-3/index.html">一键搭建最简单的私人网盘 FileManager</a>
<a class="wid-xiaobai wid-xiaobai-red" target="_blank" href="../shell-jc2/index.html">Linux封垃圾邮件(SPAM)/BT/PT 一键脚本</a>
<a class="wid-xiaobai wid-xiaobai-red" target="_blank" href="../wlzy-11/index.html">VPS建博客 安装WordPress 小白视频教程</a>
<a class="wid-xiaobai" style="background-color: #555555;" target="_blank" href="../paypal-jc2/index.html">PayPal 更换汇率结算方式降低汇率手续费</a>
<a class="wid-xiaobai" style="width: 45.5%;" target="_blank" href="../androidkxsw/index.html">安卓科学上网合辑</a>
<a class="wid-xiaobai" style="width: 45.5%;" target="_blank" href="../pckxsw/index.html">电脑科学上网合辑</a>
</div></div>
		</div><div class="widget widget_text">			<div class="textwidget"><a target="_blank" href="https://doub.io/go/minecloud/"><img style="margin-bottom: 10px;" src="../wp-content/uploads/minecloud-04.png" /></a>
<a target="_blank" href="https://doub.io/go/bwg-56/"><img style="margin-bottom: 10px;" src="../wp-content/uploads/bandwagonhost-01.png" /></a>
<a target="_blank" href="https://doub.io/go/vultr/"><img src="../wp-content/uploads/vultr-logo8.png" /></a></div>
		</div><div class="widget widget_text">			<div class="textwidget"><style>.dashang a {
	position: relative;
	background-color: #ff6464;
	color: #fff;
	padding: 10px 15px;
	border: 0;
	padding-right: 50px;
}
.dashang a:hover {
	background-color: #ff4545;
}
.dashang i {
	background-color: #ff4545;
	font-size: 16px;
	position: absolute;
	right: 0;
	top: 0;
	height: 27px;
	padding: 12px 5px 0;
}
</style>
<div class="dashang" style="text-align:center;padding: 20px 0;">
<a target="_blank" href="../dashang/index.html">打赏大逗比<i class="fa fa-heart"></i></a>
</div></div>
		</div><div class="widget d_tag"><div class="title"><h2>逗比の标签</h2></div><div class="d_tags"><a title="56个话题" href="../tag/shadowsocks/index.html">Shadowsocks (56)</a><a title="49个话题" href="../tag/%E6%95%99%E7%A8%8B/index.html">教程 (49)</a><a title="38个话题" href="../tag/kxsw/index.html">科学上网 (38)</a><a title="37个话题" href="../tag/%E8%84%9A%E6%9C%AC/index.html">脚本 (37)</a><a title="24个话题" href="../tag/shadowsocksr/index.html">ShadowsocksR (24)</a><a title="23个话题" href="../tag/vps/index.html">VPS (23)</a><a title="16个话题" href="../tag/linux/index.html">Linux (16)</a><a title="11个话题" href="../tag/vpn/index.html">VPN (11)</a><a title="11个话题" href="../tag/vpsyh/index.html">VPS优惠 (11)</a><a title="10个话题" href="../tag/vps%E8%B5%84%E6%BA%90/index.html">VPS资源 (10)</a><a title="10个话题" href="../tag/shell/index.html">shell (10)</a><a title="8个话题" href="../tag/bt/index.html">BT (8)</a><a title="7个话题" href="../tag/%E6%90%AC%E7%93%A6%E5%B7%A5/index.html">搬瓦工 (7)</a><a title="7个话题" href="../tag/%E7%A3%81%E5%8A%9B%E9%93%BE%E6%8E%A5/index.html">磁力链接 (7)</a><a title="7个话题" href="../tag/dns/index.html">DNS (7)</a><a title="7个话题" href="../tag/vps%E8%AF%84%E6%B5%8B/index.html">VPS评测 (7)</a><a title="6个话题" href="../tag/ss-panel/index.html">ss-panel (6)</a><a title="6个话题" href="../tag/%E5%9B%BD%E5%86%85%E4%B8%AD%E8%BD%AC/index.html">国内中转 (6)</a><a title="6个话题" href="../tag/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/index.html">反向代理 (6)</a><a title="6个话题" href="../tag/kvm/index.html">KVM (6)</a></div></div><div class="widget widget_links"><div class="title"><h2>友情の链接</h2></div>
	<ul class='xoxo blogroll'>
<li><a href="https://cccat.co" target="_blank">CCCAT</a></li>
<li><a href="http://www.rarbt.com/" title="一个我经常是否的BT种子站，资源热度很不错" target="_blank">RARBT BT种子</a></li>
<li><a href="https://vps.best/" title="一个简洁，中立的VPS评测网站" target="_blank">VPS.BEST</a></li>
<li><a href="http://www.vpsps.com/" title="VPS评审|VPS评测 VPS优惠 linux教程 便宜VPS VPS推荐 VPS教程 国外VPS" target="_blank">VPS评审</a></li>
<li><a href="https://www.zhujiboke.com/" title="一起来搞机吧！" target="_blank">主机博客</a></li>
<li><a href="http://www.zhujiceping.com/" title="国外主机优惠码、域名优惠码、国外VPS测评、国外服务器" target="_blank">国外主机测评</a></li>
<li><a href="http://51.ruyo.net/" title="分享也是一种快乐！" target="_blank">如有乐享</a></li>
<li><a href="http://www.66re.cn/" title="一个神奇的影音娱乐网，电影、电视直播，视频VIP破解~" target="_blank">小康音乐电台</a></li>
<li><a href="http://ilxdh.com/" title="做个有用的导航！" target="_blank">龙轩导航</a></li>

	</ul>
</div>
</aside></section>
<footer class="footer">
    <div class="footer-inner">
        <div class="copyright pull-left">
         <a href="../index.html" title="逗比根据地">逗比根据地</a> 版权所有，保留一切权利 · <a href="../dashang/index.html" target="_blank" style="color: #ff6464;">♥ 捐赠打赏</a> · <a href="http://yusi123.com/3233.html" target="_blank">欲思主题</a> © 2015-2017</a>
        </div>
        <div class="trackcode pull-right">
            <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?8067e5ade532c4f3711b320f1e88f213";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?26499fa0b99ff63dd9867c0c43ec1a9d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>        </div>
    </div>
</footer>

<script type='text/javascript' src='../wp-content/themes/yusi1.0/js/jquery-ver=1.0.js'></script>

<script type="text/javascript">
var open = false;
$(function () {
    $("button[data-type='Widescreen']").on("click", function () {
        if (!open) {
            $(".sidebar").hide(); $(".content").animate({ marginRight: 0 }, 200);
        } else {
            $(".sidebar").show(); $(".content").animate({ marginRight: 370 }, 200);
        }
        open = !open;
    })
})
if(document.body.scrollWidth < 768){
    $(".hot-posts").hide();
}
if(window!=window.top){window.top.location.replace(window.location)}function fuckyou(){window.close();window.location="about:blank"}function ck(){console.profile();console.profileEnd();if(console.clear){console.clear()};if(typeof console.profiles=="object"){return console.profiles.length>0}}function hehe(){if((window.console&&(console.firebug||console.table&&/firebug/i.test(console.table())))||(typeof opera=='object'&&typeof opera.postError=='function'&&console.profile.length>0)){fuckyou()}if(typeof console.profiles=="object"&&console.profiles.length>0){fuckyou()}}hehe();window.onresize=function(){if((window.outerHeight-window.innerHeight)>200)fuckyou()}
</script>
</body>
</html>